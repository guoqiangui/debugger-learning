<!DOCTYPE html>
<html lang="en">
  <body>
    <script>
      function calc() {
        let a = 0;
        for (let i = 0; i < 1000000; i++) {
          a += i;
        }
      }

      function printMutation() {
        console.log("mutation");
        calc();
      }

      new MutationObserver(() => {
        printMutation();
      }).observe(document.body, {
        type: "attribute",
        attributeFilter: ["aaa"],
      });
      document.body.setAttribute("aaa", "guoguoguo");

      // function printPromise1() {
      //   console.log("promise1");
      //   calc();
      // }

      // function printTimer2() {
      //   console.log("timer2");
      //   calc();
      // }

      // function printTimer1() {
      //   console.log("timer1");
      //   calc();
      // }

      // function printPromise2() {
      //   console.log("promise2");
      //   calc();
      // }

      // function printStart() {
      //   console.log("start");
      //   calc();
      // }

      // Promise.resolve().then(() => {
      //   printPromise1();
      //   const timer2 = setTimeout(() => {
      //     printTimer2();
      //   }, 0);
      // });
      // const timer1 = setTimeout(() => {
      //   printTimer1();

      //   Promise.resolve().then(() => {
      //     printPromise2();
      //   });
      // }, 0);

      // printStart();
    </script>
  </body>
</html>
